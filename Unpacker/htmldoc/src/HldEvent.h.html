<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!--                                             -->
<!-- Author: ROOT team (rootdev@pcroot.cern.ch)  -->
<!--                                             -->
<!--   Date: Mon Dec 15 12:32:45 2008            -->
<!--                                             -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>HldEvent - source file</title>
<meta name="rating" content="General" />
<meta name="objecttype" content="Manual" />
<meta name="keywords" content="software development, oo, object oriented, unix, x11, windows, c++, html, rene brun, fons rademakers, cern" />
<meta name="description" content="ROOT - An Object Oriented Framework For Large Scale Data Analysis." />
<link rel="stylesheet" type="text/css" href="../ROOT.css" id="ROOTstyle" />
<script type="text/javascript" src="../ROOT.js"></script>
</head>
<body  onload="javascript:SetValuesFromCookie();">
<pre class="code">
<span class="comment">// File: hldevent_wk.h </span>
<span class="comment">//</span>
<span class="comment">// Author: Wojciech Krzemien &lt;wojciech.krzemien@if.uj.edu.pl&gt; 12.10.06</span>
<span class="comment">// Modified: 31.01.07</span>

<span class="cpp">#ifndef HLDEVENT_WK_H</span>
<span class="cpp">#define HLDEVENT_WK_H</span>

<span class="comment">/////////////////////////////////////////////////////////////////////</span>
<span class="comment">//   <a href="../HldEvent.html">HldEvent</a></span>
<span class="comment">//</span>
<span class="comment">//   <a href="../HldEvent.html">HldEvent</a> is based on HldFilEvt, HldBase and HldEvt classes from Hydra.</span>
<span class="comment">//   Also a part of HldUnpack and HodoUnpacker code was used.</span>
<span class="comment">/////////////////////////////////////////////////////////////////////</span>

<span class="cpp">#include "<a href="../hldsubevent_wk.h">hldsubevent_wk.h</a>"</span>
<span class="cpp">#include &lt;TObject.h&gt;</span>
<span class="cpp">#include &lt;fstream&gt;</span>
<span class="cpp">#include &lt;iostream&gt;</span>
<span class="cpp">#include &lt;sys/types.h&gt;</span>
<span class="cpp">#include &lt;sys/stat.h&gt;</span>
<span class="cpp">#include &lt;unistd.h&gt;</span>
<span class="cpp">#include &lt;time.h&gt; // from times</span>

<span class="keyword">typedef</span> <a href="../ListOfTypes.html#UInt_t">UInt_t</a> <a href="../ListOfTypes.html#UInt4">UInt4</a>;
<span class="keyword">typedef</span> <a href="../ListOfTypes.html#UChar_t">UChar_t</a> UInt1;

<span class="keyword">class</span> <a href="../HldEvent.html">HldEvent</a> :<span class="keyword">public</span> <a href="http://root.cern.ch/root/html/TObject.html">TObject</a> 
{
<span class="keyword">private</span>:

 std::<a href="../ListOfTypes.html#istream">istream</a>* <a href="../HldEvent.html#HldEvent:file" title="istream* HldEvent::file">file</a>;
 <span class="keyword">struct</span> stat <a href="../HldEvent.html#HldEvent:status" title="stat HldEvent::status">status</a>; <span class="comment">//! <a href="../HldEvent.html#HldEvent:status" title="stat HldEvent::status">status</a> struct of hld <a href="../HldEvent.html#HldEvent:file" title="istream* HldEvent::file">file</a></span>
 <a href="../ListOfTypes.html#Bool_t">Bool_t</a> <a href="../HldEvent.html#HldEvent:isWritable" title="Bool_t HldEvent::isWritable">isWritable</a>; <span class="comment">// flag used for HLD output</span>
 
<span class="keyword">public</span>:
 
<a name="E5XliC"></a> <a href="../HldEvent.html">HldEvent</a>(): <a href="../HldEvent.html#HldEvent:pData" title="UInt4* HldEvent::pData">pData</a>(0) {                    <span class="comment">// No input <a href="../HldEvent.html#HldEvent:file" title="istream* HldEvent::file">file</a></span>
   <a href="../HldEvent.html#HldEvent:file" title="istream* HldEvent::file">file</a> = 0;
   <a href="../HldEvent.html#HldEvent:isWritable" title="Bool_t HldEvent::isWritable">isWritable</a>=<a href="../ListOfTypes.html#Bool_t">kFALSE</a>;
<a name="MsJ5N"></a>   <a href="../HldEvent.html#HldEvent:setQuietMode" title="void HldEvent::setQuietMode()">setQuietMode</a>();
<a name="NEnW1"></a>   <a href="../HldEvent.html#HldEvent:setSubEvtId" title="void HldEvent::setSubEvtId(Int_t f=0)">setSubEvtId</a>();
<a name="RFTktC"></a>   <a href="../HldEvent.html#HldEvent:init" title="void HldEvent::init()">init</a>();
 }
<a name="FuTg7B"></a> <a href="../HldEvent.html">HldEvent</a>(<span class="keyword">const</span> <span class="keyword">char</span>* name,<a href="../ListOfTypes.html#Int_t">Int_t</a> subId): <a href="../HldEvent.html#HldEvent:pData" title="UInt4* HldEvent::pData">pData</a>(0) {    <span class="comment">// <a href="../HldEvent.html#HldEvent:read" title="Bool_t HldEvent::read()">read</a> from <a href="../HldEvent.html#HldEvent:file" title="istream* HldEvent::file">file</a></span>
   <a href="../HldEvent.html#HldEvent:file" title="istream* HldEvent::file">file</a> = 0;	<span class="comment">//wk added 25.05.07</span>
   <a href="../HldEvent.html#HldEvent:setFile" title="Bool_t HldEvent::setFile(const Text_t* name)">setFile</a>(name);
   <a href="../HldEvent.html#HldEvent:setQuietMode" title="void HldEvent::setQuietMode()">setQuietMode</a>();
   <a href="../HldEvent.html#HldEvent:setSubEvtId" title="void HldEvent::setSubEvtId(Int_t f=0)">setSubEvtId</a>(subId);
   <a href="../HldEvent.html#HldEvent:init" title="void HldEvent::init()">init</a>();
 }
<a name="Q4WodD"></a><a href="../HldEvent.html#HldEvent:_HldEvent" title="void HldEvent::~HldEvent()">~HldEvent</a>() {
   <span class="keyword">if</span> (<a href="../HldEvent.html#HldEvent:file" title="istream* HldEvent::file">file</a>) <span class="keyword">delete</span> <a href="../HldEvent.html#HldEvent:file" title="istream* HldEvent::file">file</a>;
   <span class="keyword">delete</span>[] <a href="../HldEvent.html#HldEvent:pData" title="UInt4* HldEvent::pData">pData</a>;
 }
 
<a name="nC70wD"></a> <a href="../ListOfTypes.html#size_t">size_t</a> <a href="../HldEvent.html#HldEvent:getHdrSize" title="size_t HldEvent::getHdrSize()">getHdrSize</a>() <span class="keyword">const</span> { <span class="keyword">return</span> <span class="keyword">sizeof</span>(EvtHdr); }
<a name="TB89a"></a> <a href="../ListOfTypes.html#UInt4">UInt4</a> <a href="../HldEvent.html#HldEvent:getSize" title="UInt4 HldEvent::getSize()">getSize</a>() <span class="keyword">const</span> { <span class="keyword">return</span> ((EvtHdr*)<a href="../HldEvent.html#HldEvent:pHdr" title="UInt4* HldEvent::pHdr">pHdr</a>)-&gt;size; }
<a name="JlQKsD"></a> <a href="../ListOfTypes.html#UInt4">UInt4</a> <a href="../HldEvent.html#HldEvent:getDecoding" title="UInt4 HldEvent::getDecoding()">getDecoding</a>() <span class="keyword">const</span> { <span class="keyword">return</span> ((EvtHdr*)<a href="../HldEvent.html#HldEvent:pHdr" title="UInt4* HldEvent::pHdr">pHdr</a>)-&gt;decoding; }
<a name="X2THDD"></a> <a href="../ListOfTypes.html#UInt4">UInt4</a> <a href="../HldEvent.html#HldEvent:getId" title="UInt4 HldEvent::getId()">getId</a>() <span class="keyword">const</span> { <span class="keyword">return</span> ((EvtHdr*)<a href="../HldEvent.html#HldEvent:pHdr" title="UInt4* HldEvent::pHdr">pHdr</a>)-&gt;id; }
<a name="voa2e"></a> <a href="../ListOfTypes.html#UInt4">UInt4</a> <a href="../HldEvent.html#HldEvent:getSeqNr" title="UInt4 HldEvent::getSeqNr()">getSeqNr</a>() <span class="keyword">const</span> { <span class="keyword">return</span> ((EvtHdr*)<a href="../HldEvent.html#HldEvent:pHdr" title="UInt4* HldEvent::pHdr">pHdr</a>)-&gt;seqNr; }
<a name="wbZY2C"></a> <a href="../ListOfTypes.html#UInt4">UInt4</a> <a href="../HldEvent.html#HldEvent:getDate" title="UInt4 HldEvent::getDate()">getDate</a>() <span class="keyword">const</span> { <span class="keyword">return</span> ((EvtHdr*)<a href="../HldEvent.html#HldEvent:pHdr" title="UInt4* HldEvent::pHdr">pHdr</a>)-&gt;date; }
<a name="M_A35C"></a> <a href="../ListOfTypes.html#UInt4">UInt4</a> <a href="../HldEvent.html#HldEvent:getTime" title="UInt4 HldEvent::getTime()">getTime</a>() <span class="keyword">const</span> { <span class="keyword">return</span> ((EvtHdr*)<a href="../HldEvent.html#HldEvent:pHdr" title="UInt4* HldEvent::pHdr">pHdr</a>)-&gt;time; }
<a name="m9D7F"></a> <a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../HldEvent.html#HldEvent:getYear" title="Int_t HldEvent::getYear()">getYear</a>() <span class="keyword">const</span> { <span class="keyword">return</span> <a href="../HldEvent.html#HldEvent:byte" title="int HldEvent::byte(int b,UInt4 i)">byte</a>(2, ((EvtHdr*)<a href="../HldEvent.html#HldEvent:pHdr" title="UInt4* HldEvent::pHdr">pHdr</a>)-&gt;date); }
<a name="pLe1eD"></a> <a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../HldEvent.html#HldEvent:getMonth" title="Int_t HldEvent::getMonth()">getMonth</a>() <span class="keyword">const</span> { <span class="keyword">return</span> <a href="../HldEvent.html#HldEvent:byte" title="int HldEvent::byte(int b,UInt4 i)">byte</a>(3, ((EvtHdr*)<a href="../HldEvent.html#HldEvent:pHdr" title="UInt4* HldEvent::pHdr">pHdr</a>)-&gt;date) + 1; }
<a name="WHU2HC"></a> <a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../HldEvent.html#HldEvent:getDay" title="Int_t HldEvent::getDay()">getDay</a>() <span class="keyword">const</span> { <span class="keyword">return</span> <a href="../HldEvent.html#HldEvent:byte" title="int HldEvent::byte(int b,UInt4 i)">byte</a>(4, ((EvtHdr*)<a href="../HldEvent.html#HldEvent:pHdr" title="UInt4* HldEvent::pHdr">pHdr</a>)-&gt;date); }
<a name="aMVD7"></a> <a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../HldEvent.html#HldEvent:getHour" title="Int_t HldEvent::getHour()">getHour</a>() <span class="keyword">const</span> { <span class="keyword">return</span> <a href="../HldEvent.html#HldEvent:byte" title="int HldEvent::byte(int b,UInt4 i)">byte</a>(2, ((EvtHdr*)<a href="../HldEvent.html#HldEvent:pHdr" title="UInt4* HldEvent::pHdr">pHdr</a>)-&gt;time); }
<a name="SCGlqD"></a> <a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../HldEvent.html#HldEvent:getMinute" title="Int_t HldEvent::getMinute()">getMinute</a>() <span class="keyword">const</span> { <span class="keyword">return</span> <a href="../HldEvent.html#HldEvent:byte" title="int HldEvent::byte(int b,UInt4 i)">byte</a>(3, ((EvtHdr*)<a href="../HldEvent.html#HldEvent:pHdr" title="UInt4* HldEvent::pHdr">pHdr</a>)-&gt;time); }
<a name="VGdL4E"></a> <a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../HldEvent.html#HldEvent:getSecond" title="Int_t HldEvent::getSecond()">getSecond</a>() <span class="keyword">const</span> { <span class="keyword">return</span> <a href="../HldEvent.html#HldEvent:byte" title="int HldEvent::byte(int b,UInt4 i)">byte</a>(4, ((EvtHdr*)<a href="../HldEvent.html#HldEvent:pHdr" title="UInt4* HldEvent::pHdr">pHdr</a>)-&gt;time); }
<a name="pgz_CD"></a> <a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../HldEvent.html#HldEvent:getRunNr" title="Int_t HldEvent::getRunNr()">getRunNr</a>() <span class="keyword">const</span> { <span class="keyword">return</span> ((EvtHdr*)<a href="../HldEvent.html#HldEvent:pHdr" title="UInt4* HldEvent::pHdr">pHdr</a>)-&gt;runNr; }
<a name="VOMrX"></a> <a href="../ListOfTypes.html#UInt4">UInt4</a> <a href="../HldEvent.html#HldEvent:getPad" title="UInt4 HldEvent::getPad()">getPad</a>() <span class="keyword">const</span> { <span class="keyword">return</span> ((EvtHdr*)<a href="../HldEvent.html#HldEvent:pHdr" title="UInt4* HldEvent::pHdr">pHdr</a>)-&gt;pad; }
 <span class="comment">// Get data body</span>
<a name="AQuVbE"></a> <a href="../ListOfTypes.html#UInt4">UInt4</a>* <a href="../HldEvent.html#HldEvent:getHeader" title="UInt4* HldEvent::getHeader()">getHeader</a>() <span class="keyword">const</span> { <span class="keyword">return</span> <a href="../HldEvent.html#HldEvent:pHdr" title="UInt4* HldEvent::pHdr">pHdr</a>; }
<a name="VHpUn"></a> <a href="../ListOfTypes.html#UInt4">UInt4</a>* <a href="../HldEvent.html#HldEvent:getData" title="UInt4* HldEvent::getData()">getData</a>() <span class="keyword">const</span> { <span class="keyword">return</span> <a href="../HldEvent.html#HldEvent:pData" title="UInt4* HldEvent::pData">pData</a>; }
<a name="lDoX7C"></a> <a href="../ListOfTypes.html#size_t">size_t</a> <a href="../HldEvent.html#HldEvent:getDataSize" title="size_t HldEvent::getDataSize()">getDataSize</a>() <span class="keyword">const</span> { <span class="keyword">return</span> <a href="../HldEvent.html#HldEvent:getSize" title="UInt4 HldEvent::getSize()">getSize</a>() - <a href="../HldEvent.html#HldEvent:getHdrSize" title="size_t HldEvent::getHdrSize()">getHdrSize</a>(); }
<a name="Xx3lcC"></a> <a href="../ListOfTypes.html#size_t">size_t</a> <a href="../HldEvent.html#HldEvent:getPaddedSize" title="size_t HldEvent::getPaddedSize()">getPaddedSize</a>() <span class="keyword">const</span> { <span class="keyword">return</span> <a href="../HldEvent.html#HldEvent:align8" title="size_t HldEvent::align8(const size_t i)">align8</a>(<a href="../HldEvent.html#HldEvent:getSize" title="UInt4 HldEvent::getSize()">getSize</a>()); }
<a name="z83w3C"></a> <a href="../ListOfTypes.html#UInt4">UInt4</a>* <a href="../HldEvent.html#HldEvent:getEnd" title="UInt4* HldEvent::getEnd()">getEnd</a>() <span class="keyword">const</span> { <span class="keyword">return</span> <a href="../HldEvent.html#HldEvent:pData" title="UInt4* HldEvent::pData">pData</a> + <a href="../HldEvent.html#HldEvent:getDataSize" title="size_t HldEvent::getDataSize()">getDataSize</a>()/4; }
<a name="o3eKkD"></a> <a href="../ListOfTypes.html#UInt4">UInt4</a>* <a href="../HldEvent.html#HldEvent:getPaddedEnd" title="UInt4* HldEvent::getPaddedEnd()">getPaddedEnd</a>() <span class="keyword">const</span> { <span class="keyword">return</span> <a href="../HldEvent.html#HldEvent:pData" title="UInt4* HldEvent::pData">pData</a> + <a href="../HldEvent.html#HldEvent:getDataPaddedSize" title="size_t HldEvent::getDataPaddedSize()">getDataPaddedSize</a>()/4; }          
 
<a name="uTw9zC"></a> <span class="keyword">void</span> <a href="../HldEvent.html#HldEvent:setWritable" title="void HldEvent::setWritable(Bool_t f=kTRUE)">setWritable</a>(<a href="../ListOfTypes.html#Bool_t">Bool_t</a> f=<a href="../ListOfTypes.html#Bool_t">kTRUE</a>) { <a href="../HldEvent.html#HldEvent:isWritable" title="Bool_t HldEvent::isWritable">isWritable</a>=f; }
 <a href="../ListOfTypes.html#Bool_t">Bool_t</a> <a href="../HldEvent.html#HldEvent:setFile" title="Bool_t HldEvent::setFile(const Text_t* name)">setFile</a>(<span class="keyword">const</span> <a href="../ListOfTypes.html#Text_t">Text_t</a> *name);
 <a href="../ListOfTypes.html#Bool_t">Bool_t</a> <a href="../HldEvent.html#HldEvent:readSubEvt" title="Bool_t HldEvent::readSubEvt(size_t i)">readSubEvt</a>(<a href="../ListOfTypes.html#size_t">size_t</a> i);
 <a href="../ListOfTypes.html#Bool_t">Bool_t</a> <a href="../HldEvent.html#HldEvent:read" title="Bool_t HldEvent::read()">read</a>();
 <a href="../ListOfTypes.html#Bool_t">Bool_t</a> <a href="../HldEvent.html#HldEvent:execute" title="Bool_t HldEvent::execute()">execute</a>();
 <a href="../ListOfTypes.html#Bool_t">Bool_t</a> <a href="../HldEvent.html#HldEvent:swap" title="Bool_t HldEvent::swap()">swap</a>();
 <span class="comment">//from HldEvt</span>
 <span class="keyword">void</span> <a href="../HldEvent.html#HldEvent:setSubEvtId" title="void HldEvent::setSubEvtId(Int_t f=0)">setSubEvtId</a>(<a href="../ListOfTypes.html#Int_t">Int_t</a> f=0) { <a href="../HldEvent.html#HldEvent:subEvtId" title="UInt_t HldEvent::subEvtId">subEvtId</a>=f; }
 <a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../HldEvent.html#HldEvent:appendSubEvtIdx" title="Int_t HldEvent::appendSubEvtIdx()">appendSubEvtIdx</a>(); 

<span class="keyword">protected</span>:
 
 <span class="keyword">void</span> <a href="../HldEvent.html#HldEvent:init" title="void HldEvent::init()">init</a>() {
   <a href="../HldEvent.html#HldEvent:pHdr" title="UInt4* HldEvent::pHdr">pHdr</a> = (<a href="../ListOfTypes.html#UInt4">UInt4</a>*) &amp;<a href="../HldEvent.html#HldEvent:hdr" title="HldEvent::EvtHdr HldEvent::hdr">hdr</a>;
   <a href="../HldEvent.html#HldEvent:pData" title="UInt4* HldEvent::pData">pData</a> = 0;
   <a href="../HldEvent.html#HldEvent:lastSubEvtIdx" title="size_t HldEvent::lastSubEvtIdx">lastSubEvtIdx</a> = 0;
   <a href="../HldEvent.html#HldEvent:appendSubEvtIdx" title="Int_t HldEvent::appendSubEvtIdx()">appendSubEvtIdx</a>();
   <a href="../HldEvent.html#HldEvent:clearAll" title="void HldEvent::clearAll()">clearAll</a>();
 }

 <span class="comment">// <a href="../Event.html">Event</a> header</span>
 <span class="keyword">struct</span> EvtHdr {
   <a href="../ListOfTypes.html#UInt4">UInt4</a> size;
   <a href="../ListOfTypes.html#UInt4">UInt4</a> decoding;
   <a href="../ListOfTypes.html#UInt4">UInt4</a> id;
   <a href="../ListOfTypes.html#UInt4">UInt4</a> seqNr;
   <a href="../ListOfTypes.html#UInt4">UInt4</a> date;
   <a href="../ListOfTypes.html#UInt4">UInt4</a> time;
   <a href="../ListOfTypes.html#UInt4">UInt4</a> runNr;
   <a href="../ListOfTypes.html#UInt4">UInt4</a> pad;
 } <a href="../HldEvent.html#HldEvent:hdr" title="HldEvent::EvtHdr HldEvent::hdr">hdr</a>;
 
 <a href="../ListOfTypes.html#UInt4">UInt4</a>* <a href="../HldEvent.html#HldEvent:pHdr" title="UInt4* HldEvent::pHdr">pHdr</a>;
 <a href="../ListOfTypes.html#UInt4">UInt4</a>* <a href="../HldEvent.html#HldEvent:pData" title="UInt4* HldEvent::pData">pData</a>;
 
 <a href="../ListOfTypes.html#size_t">size_t</a> <a href="../HldEvent.html#HldEvent:lastSubEvtIdx" title="size_t HldEvent::lastSubEvtIdx">lastSubEvtIdx</a>;
 <span class="keyword">static</span> <span class="keyword">const</span> <a href="../ListOfTypes.html#size_t">size_t</a>  <a href="../HldEvent.html#HldEvent:maxSubEvtIdx" title="const size_t HldEvent::maxSubEvtIdx">maxSubEvtIdx</a> = 100;
 <span class="keyword">struct</span> SubEvtTable {
   <a href="../ListOfTypes.html#UInt4">UInt4</a> id;
   <a href="../HldSubEvent.html">HldSubEvent</a>** p;
 };
 
 SubEvtTable <a href="../HldEvent.html#HldEvent:subEvtTable" title="HldEvent::SubEvtTable HldEvent::subEvtTable">subEvtTable</a>[<a href="../HldEvent.html#HldEvent:maxSubEvtIdx" title="const size_t HldEvent::maxSubEvtIdx">maxSubEvtIdx</a>];
 
 <span class="comment">// subevent list (preliminary)</span>
 <span class="keyword">static</span> <span class="keyword">const</span> <a href="../ListOfTypes.html#size_t">size_t</a> <a href="../HldEvent.html#HldEvent:maxSubEvts" title="const size_t HldEvent::maxSubEvts">maxSubEvts</a> = 100;
 <a href="../HldSubEvent.html">HldSubEvent</a> <a href="../HldEvent.html#HldEvent:subEvt" title="HldSubEvent HldEvent::subEvt">subEvt</a>[<a href="../HldEvent.html#HldEvent:maxSubEvts" title="const size_t HldEvent::maxSubEvts">maxSubEvts</a>];
 
<a name="wgMzWC"></a> <a href="../ListOfTypes.html#size_t">size_t</a> <a href="../HldEvent.html#HldEvent:getHdrLen" title="size_t HldEvent::getHdrLen()">getHdrLen</a>() <span class="keyword">const</span> { <span class="keyword">return</span> <a href="../HldEvent.html#HldEvent:getHdrSize" title="size_t HldEvent::getHdrSize()">getHdrSize</a>()/4; }
<a name="AA5MYE"></a> <a href="../ListOfTypes.html#size_t">size_t</a> <a href="../HldEvent.html#HldEvent:getDataPaddedSize" title="size_t HldEvent::getDataPaddedSize()">getDataPaddedSize</a>() <span class="keyword">const</span> { <span class="keyword">return</span> <a href="../HldEvent.html#HldEvent:align8" title="size_t HldEvent::align8(const size_t i)">align8</a>(<a href="../HldEvent.html#HldEvent:getDataSize" title="size_t HldEvent::getDataSize()">getDataSize</a>()); }
<a name="ZhqlhE"></a> <a href="../ListOfTypes.html#Bool_t">Bool_t</a> <a href="../HldEvent.html#HldEvent:isSwapped" title="Bool_t HldEvent::isSwapped()">isSwapped</a>() <span class="keyword">const</span> { <span class="keyword">return</span> <a href="../HldEvent.html#HldEvent:byte" title="int HldEvent::byte(int b,UInt4 i)">byte</a>(1, <a href="../HldEvent.html#HldEvent:getDecoding" title="UInt4 HldEvent::getDecoding()">getDecoding</a>()); }
<a name="nvip_B"></a> <span class="keyword">void</span> <a href="../HldEvent.html#HldEvent:swapHdr" title="void HldEvent::swapHdr()">swapHdr</a>() { <a href="../HldEvent.html#HldEvent:swap4" title="void HldEvent::swap4(UInt_t* p,const size_t len)">swap4</a>(<a href="../HldEvent.html#HldEvent:pHdr" title="UInt4* HldEvent::pHdr">pHdr</a>, <a href="../HldEvent.html#HldEvent:getHdrLen" title="size_t HldEvent::getHdrLen()">getHdrLen</a>()); }
<a name="Wm9qpD"></a> <span class="keyword">int</span> <a href="../HldEvent.html#HldEvent:byte" title="int HldEvent::byte(int b,UInt4 i)">byte</a>(<span class="keyword">int</span> b, <a href="../ListOfTypes.html#UInt4">UInt4</a> i) <span class="keyword">const</span> { <span class="keyword">return</span> i &gt;&gt; 32 - 8*b &amp; 0xff; }
<a name="YMlncB"></a> <a href="../ListOfTypes.html#size_t">size_t</a> <a href="../HldEvent.html#HldEvent:align8" title="size_t HldEvent::align8(const size_t i)">align8</a>(<span class="keyword">const</span> <a href="../ListOfTypes.html#size_t">size_t</a> i) <span class="keyword">const</span> { <span class="keyword">return</span> 8*<a href="../ListOfTypes.html#size_t">size_t</a>( (i - 1)/8 + 1 ); }
 <span class="keyword">void</span> <a href="../HldEvent.html#HldEvent:swap4" title="void HldEvent::swap4(UInt_t* p,const size_t len)">swap4</a>(<a href="../ListOfTypes.html#UInt_t">UInt_t</a>* p, <span class="keyword">const</span> <a href="../ListOfTypes.html#size_t">size_t</a> len) <span class="keyword">const</span>;
 <span class="keyword">void</span> <a href="../HldEvent.html#HldEvent:swap2" title="void HldEvent::swap2(UShort_t* p,const size_t len)">swap2</a>(<a href="../ListOfTypes.html#UShort_t">UShort_t</a>* p, <span class="keyword">const</span> <a href="../ListOfTypes.html#size_t">size_t</a> len) <span class="keyword">const</span>;
<a name="Fok2dD"></a> <a href="../ListOfTypes.html#size_t">size_t</a> <a href="../HldEvent.html#HldEvent:getDataLen" title="size_t HldEvent::getDataLen()">getDataLen</a>() <span class="keyword">const</span> { <span class="keyword">return</span> (<a href="../HldEvent.html#HldEvent:getDataSize" title="size_t HldEvent::getDataSize()">getDataSize</a>()+3)/4; }

<span class="comment">//wk added 31.01.07</span>
 <span class="keyword">static</span> <span class="keyword">const</span> <a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../HldEvent.html#HldEvent:kMaxMult" title="const Int_t HldEvent::kMaxMult">kMaxMult</a>=10;
 <span class="keyword">static</span> <span class="keyword">const</span> <a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../HldEvent.html#HldEvent:kMaxChannelNr" title="const Int_t HldEvent::kMaxChannelNr">kMaxChannelNr</a>=128;
<span class="keyword">public</span>:
<a name="QTtHYB"></a> <a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../HldEvent.html#HldEvent:getkMaxMult" title="Int_t HldEvent::getkMaxMult()">getkMaxMult</a>() <span class="keyword">const</span> { <span class="keyword">return</span> <a href="../HldEvent.html#HldEvent:kMaxMult" title="const Int_t HldEvent::kMaxMult">kMaxMult</a>; }
<a name="mdNZ1C"></a> <a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../HldEvent.html#HldEvent:getkMaxChannelNr" title="Int_t HldEvent::getkMaxChannelNr()">getkMaxChannelNr</a>() <span class="keyword">const</span> { <span class="keyword">return</span> <a href="../HldEvent.html#HldEvent:kMaxChannelNr" title="const Int_t HldEvent::kMaxChannelNr">kMaxChannelNr</a>; }
<span class="comment">//wk end</span>

<span class="comment">//wk from testunpacker </span>
<span class="comment">//wk from HldUnpack</span>
<span class="keyword">public</span>:
  <span class="keyword">typedef</span> <a href="../HldSubEvent.html">HldSubEvent</a> ** HPP;
<a name="YUxxjC"></a>  HPP <span class="keyword">const</span> <a href="../HldEvent.html#HldEvent:getpSubEvt" title="HldEvent::HPP HldEvent::getpSubEvt()">getpSubEvt</a>(<span class="keyword">void</span>);
  <span class="comment">//wk <a href="../ListOfTypes.html#void">void</a> setCategory(HCategory *aCat);</span>
<span class="keyword">protected</span>:
  <a href="../HldSubEvent.html">HldSubEvent</a>* <a href="../HldEvent.html#HldEvent:pSubEvt" title="HldSubEvent* HldEvent::pSubEvt">pSubEvt</a>; <span class="comment">//! pointer to subevent where data are <a href="../HldEvent.html#HldEvent:read" title="Bool_t HldEvent::read()">read</a> from</span>
<span class="comment">//wk  HCategory *pRawCat; //! pointer to category where data will be stored;</span>
<span class="comment">//end from HldUnpack</span>
<span class="comment">//wk temporary public:</span>
<span class="keyword">public</span>:
  <a href="../ListOfTypes.html#UInt_t">UInt_t</a> <a href="../HldEvent.html#HldEvent:subEvtId" title="UInt_t HldEvent::subEvtId">subEvtId</a>;
  <a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../HldEvent.html#HldEvent:LeadingTime" title="Int_t HldEvent::LeadingTime">LeadingTime</a>[<a href="../HldEvent.html#HldEvent:kMaxChannelNr" title="const Int_t HldEvent::kMaxChannelNr">kMaxChannelNr</a>][<a href="../HldEvent.html#HldEvent:kMaxMult" title="const Int_t HldEvent::kMaxMult">kMaxMult</a>];
  <a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../HldEvent.html#HldEvent:TrailingTime" title="Int_t HldEvent::TrailingTime">TrailingTime</a>[<a href="../HldEvent.html#HldEvent:kMaxChannelNr" title="const Int_t HldEvent::kMaxChannelNr">kMaxChannelNr</a>][<a href="../HldEvent.html#HldEvent:kMaxMult" title="const Int_t HldEvent::kMaxMult">kMaxMult</a>];
  <a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../HldEvent.html#HldEvent:trbADC" title="Int_t HldEvent::trbADC">trbADC</a>[<a href="../HldEvent.html#HldEvent:kMaxChannelNr" title="const Int_t HldEvent::kMaxChannelNr">kMaxChannelNr</a>][<a href="../HldEvent.html#HldEvent:kMaxMult" title="const Int_t HldEvent::kMaxMult">kMaxMult</a>];
  <a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../HldEvent.html#HldEvent:LeadingMult" title="Int_t HldEvent::LeadingMult">LeadingMult</a>[<a href="../HldEvent.html#HldEvent:kMaxChannelNr" title="const Int_t HldEvent::kMaxChannelNr">kMaxChannelNr</a>];
  <a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../HldEvent.html#HldEvent:TrailingMult" title="Int_t HldEvent::TrailingMult">TrailingMult</a>[<a href="../HldEvent.html#HldEvent:kMaxChannelNr" title="const Int_t HldEvent::kMaxChannelNr">kMaxChannelNr</a>];
  <a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../HldEvent.html#HldEvent:errors_per_event" title="Int_t HldEvent::errors_per_event">errors_per_event</a>;          <span class="comment">// number of errors per event</span>

  <a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../HldEvent.html#HldEvent:debugFlag" title="Int_t HldEvent::debugFlag">debugFlag</a>;  <span class="comment">// allows to print subevent information</span>
                    <span class="comment">// to the STDOUT</span>
  <a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../HldEvent.html#HldEvent:debugFlag1" title="Int_t HldEvent::debugFlag1">debugFlag1</a>; <span class="comment">// used for special purpuses</span>
                    <span class="comment">// will be removed later</span>
  <a href="../ListOfTypes.html#Bool_t">Bool_t</a> <a href="../HldEvent.html#HldEvent:quietMode" title="Bool_t HldEvent::quietMode">quietMode</a>; <span class="comment">//! do not print errors!</span>

<span class="keyword">public</span>:
 <span class="comment">//wk added 04.02.07</span>
 <a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../HldEvent.html#HldEvent:getLeadingTime" title="Int_t HldEvent::getLeadingTime(Int_t channel,Int_t mult)">getLeadingTime</a>(<a href="../ListOfTypes.html#Int_t">Int_t</a> channel,<a href="../ListOfTypes.html#Int_t">Int_t</a> mult) <span class="keyword">const</span>;
 <a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../HldEvent.html#HldEvent:getTrailingTime" title="Int_t HldEvent::getTrailingTime(Int_t channel,Int_t mult)">getTrailingTime</a>(<a href="../ListOfTypes.html#Int_t">Int_t</a> channel,<a href="../ListOfTypes.html#Int_t">Int_t</a> mult) <span class="keyword">const</span>;
 <a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../HldEvent.html#HldEvent:getLeadingMult" title="Int_t HldEvent::getLeadingMult(Int_t channel)">getLeadingMult</a>(<a href="../ListOfTypes.html#Int_t">Int_t</a> channel) <span class="keyword">const</span>;
 <a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../HldEvent.html#HldEvent:getTrailingMult" title="Int_t HldEvent::getTrailingMult(Int_t channel)">getTrailingMult</a>(<a href="../ListOfTypes.html#Int_t">Int_t</a> channel) <span class="keyword">const</span>;
  
<a name="oWevCB"></a>  <a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../HldEvent.html#HldEvent:getSubEvtId" title="Int_t HldEvent::getSubEvtId()">getSubEvtId</a>(<span class="keyword">void</span>) <span class="keyword">const</span> { <span class="keyword">return</span> <a href="../HldEvent.html#HldEvent:subEvtId" title="UInt_t HldEvent::subEvtId">subEvtId</a>; }
  <a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../HldEvent.html#HldEvent:decode" title="Int_t HldEvent::decode()">decode</a>(<span class="keyword">void</span>);
  <span class="keyword">void</span> <a href="../HldEvent.html#HldEvent:clearAll" title="void HldEvent::clearAll()">clearAll</a>(<span class="keyword">void</span>);
  <span class="keyword">void</span> <a href="../HldEvent.html#HldEvent:setQuietMode" title="void HldEvent::setQuietMode()">setQuietMode</a>(<span class="keyword">void</span>){<a href="../HldEvent.html#HldEvent:quietMode" title="Bool_t HldEvent::quietMode">quietMode</a>=<a href="../ListOfTypes.html#Bool_t">kTRUE</a>;}

<a name="CM5A9C"></a>  <span class="keyword">void</span> <a href="../HldEvent.html#HldEvent:setDebugFlag" title="void HldEvent::setDebugFlag(Int_t db)">setDebugFlag</a>(<a href="../ListOfTypes.html#Int_t">Int_t</a> db){ <a href="../HldEvent.html#HldEvent:debugFlag" title="Int_t HldEvent::debugFlag">debugFlag</a> = db;};
<a name="b1iAyB"></a>  <span class="keyword">void</span> <a href="../HldEvent.html#HldEvent:setDebugFlag1" title="void HldEvent::setDebugFlag1(Int_t db)">setDebugFlag1</a>(<a href="../ListOfTypes.html#Int_t">Int_t</a> db){ <a href="../HldEvent.html#HldEvent:debugFlag1" title="Int_t HldEvent::debugFlag1">debugFlag1</a> = db;};

<a name="ztIhX"></a>  <span class="keyword">void</span> <a href="../HldEvent.html#HldEvent:incErrorNr" title="void HldEvent::incErrorNr()">incErrorNr</a>() {<a href="../HldEvent.html#HldEvent:errors_per_event" title="Int_t HldEvent::errors_per_event">errors_per_event</a>++;}
  <span class="keyword">void</span> <a href="../HldEvent.html#HldEvent:PrintTdcError" title="void HldEvent::PrintTdcError(UInt_t e)">PrintTdcError</a>(<a href="../ListOfTypes.html#UInt_t">UInt_t</a> e);
  <a href="../ListOfTypes.html#Bool_t">Bool_t</a> <a href="../HldEvent.html#HldEvent:fill_trail" title="Bool_t HldEvent::fill_trail(Int_t ch,Int_t d)">fill_trail</a>(<a href="../ListOfTypes.html#Int_t">Int_t</a> ch,<a href="../ListOfTypes.html#Int_t">Int_t</a> d);
  <a href="../ListOfTypes.html#Bool_t">Bool_t</a> <a href="../HldEvent.html#HldEvent:fill_lead" title="Bool_t HldEvent::fill_lead(Int_t ch,Int_t d)">fill_lead</a>(<a href="../ListOfTypes.html#Int_t">Int_t</a> ch,<a href="../ListOfTypes.html#Int_t">Int_t</a> d);

<span class="comment">//end from testunpacker</span>
 
<span class="keyword">public</span>:
  ClassDef(<a href="../HldEvent.html">HldEvent</a>,0)           
};

<span class="cpp">#endif /* !HLDEVENT_WK_H */</span>
</pre>

<br />
<!--SIGNATURE-->



<hr />
<em>
This page has been automatically generated. If you have any comments or suggestions about the page layout send a mail to <a href="mailto:rootdev@root.cern.ch">ROOT support</a>, or contact <a href="mailto:rootdev@root.cern.ch">the developers</a> with any questions or problems regarding ROOT.
</em>
</body>
</html>
